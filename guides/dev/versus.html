<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Déroulement d&#39;un combat | Dungeons &amp; Dragons</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="A 3A students project for INSA's python courses">
    <meta name="theme-color" content="#b33939">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/dungeons-dragons/assets/css/0.styles.4583855b.css" as="style"><link rel="preload" href="/dungeons-dragons/assets/js/app.6915372f.js" as="script"><link rel="preload" href="/dungeons-dragons/assets/js/2.3dad13ad.js" as="script"><link rel="preload" href="/dungeons-dragons/assets/js/16.2e5d6c5a.js" as="script"><link rel="prefetch" href="/dungeons-dragons/assets/js/10.8368b7f6.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/11.bd637bcd.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/12.fd91e66c.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/13.3d06420d.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/14.e5b37957.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/15.8cb4f2b7.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/17.c299e0cc.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/18.42e5e078.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/19.c79e60ee.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/20.5aeae33c.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/21.1694e057.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/22.2c53c56d.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/23.e4bddbf6.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/24.c4f1cea4.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/25.ad976d76.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/3.4f4101dc.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/4.bfcd3351.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/5.95d5b6b9.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/6.eafd2c6f.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/7.e5bf5466.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/8.9dae800c.js"><link rel="prefetch" href="/dungeons-dragons/assets/js/9.95a3c7ec.js">
    <link rel="stylesheet" href="/dungeons-dragons/assets/css/0.styles.4583855b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dungeons-dragons/" class="home-link router-link-active"><!----> <span class="site-name">Dungeons &amp; Dragons</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/dungeons-dragons/guides/" class="nav-link router-link-active">
  Guides
</a></div> <a href="https://github.com/Barbapapazes/dungeons-dragons" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/dungeons-dragons/guides/" class="nav-link router-link-active">
  Guides
</a></div> <a href="https://github.com/Barbapapazes/dungeons-dragons" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/dungeons-dragons/guides/" aria-current="page" class="sidebar-link">Guides</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Guide du joueur</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Guide du développeur</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dungeons-dragons/guides/dev/" aria-current="page" class="sidebar-link">Présentation</a></li><li><a href="/dungeons-dragons/guides/dev/config.html" class="sidebar-link">Config</a></li><li><a href="/dungeons-dragons/guides/dev/window.html" class="sidebar-link">Fonctionnement global</a></li><li><a href="/dungeons-dragons/guides/dev/versus.html" aria-current="page" class="active sidebar-link">Déroulement d'un combat</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dungeons-dragons/guides/dev/versus.html#initialisation" class="sidebar-link">Initialisation</a></li><li class="sidebar-sub-header"><a href="/dungeons-dragons/guides/dev/versus.html#phase-d-un-joueur" class="sidebar-link">Phase d'un joueur</a></li></ul></li><li><a href="/dungeons-dragons/guides/dev/managers.html" class="sidebar-link">/guides/dev/managers.html</a></li><li><a href="/dungeons-dragons/guides/dev/map.html" class="sidebar-link">Map</a></li><li><a href="/dungeons-dragons/guides/dev/save_load.html" class="sidebar-link">Gestion de la progression</a></li><li><a href="/dungeons-dragons/guides/dev/shortcuts.html" class="sidebar-link">Raccourcis claviers</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="deroulement-d-un-combat"><a href="#deroulement-d-un-combat" class="header-anchor">#</a> Déroulement d'un combat</h1> <blockquote><p>L'ensemble des configurations se trouve dans <code>config\versus.py</code></p></blockquote> <h2 id="initialisation"><a href="#initialisation" class="header-anchor">#</a> Initialisation</h2> <p>On considère que un personnage de class Voleur aura toujours l'initiative et commencera donc le combat. Pour ce qui concerne les autres entités personnage/ennemie, on effectue un jet sur l'attribut <code>DEX</code> (Dexterity). Ceux qui réussissent le mieux leur teste passe devant.</p> <h2 id="phase-d-un-joueur"><a href="#phase-d-un-joueur" class="header-anchor">#</a> Phase d'un joueur</h2> <p>Chaque joueur dispose d'un certain nombre d'action (définie par <code>numberOfAction</code>) . Ce dernier dispose de 2 action basic qui sont Attack et Move et s'il on est un Mage, on dispose d'une capacité en plus qui est Sort. Il est intéressant de noter que chaque action du joueur réduit de 1 son nombre d'action pour le tour.</p> <h3 id="attaquer"><a href="#attaquer" class="header-anchor">#</a> Attaquer</h3> <p>Tout abord s'il le joueur n'as pas d'arme , on considère qu'il tape à main nue et que ce dernier a une distance <code>TOUCH_HAND</code> de rayon et fait des dégâts de <code>DMG_ANY_WEAPON</code>.</p> <p>S'il a une arme sélectionner, on peut distinguer part 2 type <code>sword</code> et <code>arc</code> :</p> <p>Avec le type <code>sword</code>, un cercle se dessine autour du player définissant la porté de l'arme, puis nous devons sélectionner un ennemie . Si ce dernier ce trouve hors porté ,dommage une action est consommé. Mais si l'ennemie se trouve a porté, un lancer de <code>STR</code> est effectué pour determiné s'il l'attaque touche.</p> <p>Avec le type <code>arc</code>, on considère que l'on peut tiré de n'importe où mais un malus proportionnel s'appliquer sur le lancer de <code>DEX</code></p> <div class="language-py extra-class"><pre class="language-py"><code>dist <span class="token operator">=</span> self<span class="token punctuation">.</span>distance<span class="token punctuation">(</span>player<span class="token punctuation">,</span> self<span class="token punctuation">.</span>selectEnemy<span class="token punctuation">)</span>
scope <span class="token operator">=</span> player<span class="token punctuation">.</span>weapon<span class="token punctuation">.</span>scope
<span class="token keyword">if</span> scope <span class="token operator">&lt;</span> dist<span class="token punctuation">:</span>
    malus <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dist <span class="token operator">-</span> scope<span class="token punctuation">)</span> <span class="token operator">//</span> TILESIZE<span class="token punctuation">)</span> <span class="token operator">*</span> MALUS_ARC
</code></pre></div><h3 id="se-deplacer"><a href="#se-deplacer" class="header-anchor">#</a> Se déplacer</h3> <p>Créer un cercle de rayon <code>DISTANCE_MOVE</code> puis on sélectionne une position dans le cercle. Le personnage se déplace automatique grace à la fonction de pathfinding.</p> <h3 id="lancer-un-sort"><a href="#lancer-un-sort" class="header-anchor">#</a> Lancer un sort</h3> <p>Chaque utilisation de sort a un coût en mana , et chaque sort pose au sol une zone d'effet qui rend des point de vie pour les sort de type <code>heal</code> et les autres des dégât.</p> <p>Un même sort peut appliquer des zones qui ont une valeur d'action différente (heal/dommage) car le sort fait comme les armes est possède une caractéristique xdz (x dé de valeur z)</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Barbapapazes/dungeons-dragons/edit/master/docs/guides/dev/versus.md" target="_blank" rel="noopener noreferrer">Aidez nous à améliorer cette page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/8/2021, 9:36:13 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/dungeons-dragons/guides/dev/window.html" class="prev">
        Fonctionnement global
      </a></span> <span class="next"><a href="/dungeons-dragons/guides/dev/managers.html">
        /guides/dev/managers.html
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/dungeons-dragons/assets/js/app.6915372f.js" defer></script><script src="/dungeons-dragons/assets/js/2.3dad13ad.js" defer></script><script src="/dungeons-dragons/assets/js/16.2e5d6c5a.js" defer></script>
  </body>
</html>
