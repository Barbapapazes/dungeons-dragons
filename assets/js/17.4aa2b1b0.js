(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{378:function(e,t,s){"use strict";s.r(t);var a=s(25),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"deroulement-d-un-combat"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deroulement-d-un-combat"}},[e._v("#")]),e._v(" Déroulement d'un combat")]),e._v(" "),s("blockquote",[s("p",[e._v("L'ensemble des configurations se trouve dans "),s("code",[e._v("config\\versus.py")])])]),e._v(" "),s("h2",{attrs:{id:"initialisation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#initialisation"}},[e._v("#")]),e._v(" Initialisation")]),e._v(" "),s("p",[e._v("On considère que un personnage de class Voleur aura toujours l'initiative et commencera donc le combat. Pour ce qui concerne les autres entités personnage/ennemi, on effectue un jet sur l'attribut "),s("code",[e._v("DEX")]),e._v(" (Dexterity). Ceux qui réussissent le mieux leur test passent devant.")]),e._v(" "),s("h2",{attrs:{id:"phase-d-un-joueur"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#phase-d-un-joueur"}},[e._v("#")]),e._v(" Phase d'un joueur")]),e._v(" "),s("p",[e._v("Chaque joueur dispose d'un certain nombre d'action (définie par "),s("code",[e._v("numberOfAction")]),e._v(") . Ce dernier dispose de 2 action basic qui sont Attack et Move et s'il est Mage, il dispose d'une capacité supplémentaire qui est Sort. Il est intéressant de noter que chaque action du joueur réduit de 1 son nombre d'action pour le tour.")]),e._v(" "),s("h3",{attrs:{id:"attaquer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#attaquer"}},[e._v("#")]),e._v(" Attaquer")]),e._v(" "),s("p",[e._v("Tout abord s'il le joueur n'as pas d'arme , on considère qu'il tape à main nue et que ce dernier a une distance "),s("code",[e._v("TOUCH_HAND")]),e._v(" de rayon et fait des dégâts de "),s("code",[e._v("DMG_ANY_WEAPON")]),e._v(".")]),e._v(" "),s("p",[e._v("Il peut avoir une arme sélectionnée, qui peut être distinguée par 2 types : "),s("code",[e._v("sword")]),e._v(" et "),s("code",[e._v("arc")]),e._v(".")]),e._v(" "),s("p",[e._v("Avec le type "),s("code",[e._v("sword")]),e._v(", un cercle se dessine autour du player définissant la porté de l'arme, puis nous devons sélectionner un ennemi. Si ce dernier se trouve hors de portée, dommage une action est consommé. Mais si l'ennemie se trouve à portée, un lancer de "),s("code",[e._v("STR")]),e._v(" est effectué pour determiné s'il l'attaque touche.")]),e._v(" "),s("p",[e._v("Avec le type "),s("code",[e._v("arc")]),e._v(", on considère que l'on peut tirer de n'importe où mais un malus proportionnel à la distance s'applique sur le lancer de "),s("code",[e._v("DEX")])]),e._v(" "),s("div",{staticClass:"language-py extra-class"},[s("pre",{pre:!0,attrs:{class:"language-py"}},[s("code",[e._v("dist "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("distance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("player"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("selectEnemy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nscope "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" player"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("weapon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("scope\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" scope "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v(" dist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    malus "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("dist "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v(" scope"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("//")]),e._v(" TILESIZE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v(" MALUS_ARC\n")])])]),s("h3",{attrs:{id:"se-deplacer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#se-deplacer"}},[e._v("#")]),e._v(" Se déplacer")]),e._v(" "),s("p",[e._v("Créer un cercle de rayon "),s("code",[e._v("DISTANCE_MOVE")]),e._v(" puis on sélectionne une position dans le cercle. Le personnage se déplace automatique grace à la fonction de pathfinding.")]),e._v(" "),s("h3",{attrs:{id:"lancer-un-sort"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lancer-un-sort"}},[e._v("#")]),e._v(" Lancer un sort")]),e._v(" "),s("p",[e._v("Chaque utilisation de sort a un coût en mana, et chaque sort pose au sol une zone d'effet qui rend des point de vie pour les sort de type "),s("code",[e._v("heal")]),e._v(" et les autres des dégâts.")]),e._v(" "),s("p",[e._v("Un même sort peut appliquer des zones qui ont une valeur d'action différente (heal/dommage) car le sort fait comme les armes et possède une caractéristique xdz (x dé de valeur z)")]),e._v(" "),s("h2",{attrs:{id:"phase-des-ennemis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#phase-des-ennemis"}},[e._v("#")]),e._v(" Phase des ennemis")]),e._v(" "),s("h3",{attrs:{id:"decision"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#decision"}},[e._v("#")]),e._v(" Décision")]),e._v(" "),s("p",[e._v("En combat, les ennemis fuient systématiquement si ils leur restent peu de vie. Sinon, si les ennemis sont à portée ("),s("code",[e._v("attack_range")]),e._v(") d'un joueur, ils vont attaquer, sinon ils vont se déplacer vers ce joueur.")]),e._v(" "),s("h3",{attrs:{id:"deplacement"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deplacement"}},[e._v("#")]),e._v(" Déplacement")]),e._v(" "),s("p",[e._v("Les ennemis vont suivre le chemin le plus court trouvé par l'algorithme de pathfinding A* vers le joueur en vue et suivre ce chemin de manière presque linéaire avec une vitesse "),s("code",[e._v("speed")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"attaque"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#attaque"}},[e._v("#")]),e._v(" Attaque")]),e._v(" "),s("p",[e._v("Les ennemis utilisent leur pouvoir spécial s'ils en possèdent un et qu'il s'est écoulé un certain nombre de tour depuis le début du combat ou la dernière fois qu'ils l'ont utilisé ("),s("code",[e._v("cooldown")]),e._v("). Sinon, une attaque simple va être lancée commme pour un joueur.")])])}),[],!1,null,null,null);t.default=n.exports}}]);